<!DOCTYPE html>
<html lang="en">
<head>
	<title>ECE 4960 Fast Robots</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	
	<link href="https://fonts.googleapis.com/css?family=Nunito+Sans:200,300,400,600,700,800,900&display=swap" rel="stylesheet">

	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

	<link rel="stylesheet" href="css/animate.css">
	
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">
	<link rel="stylesheet" href="css/magnific-popup.css">
	
	<link rel="stylesheet" href="css/flaticon.css">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
</head>
<body>
	
	<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
		<div class="container">
			<a class="navbar-brand" href="index.html">ECE<span>4960</span>Caitlin Stanton</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="oi oi-menu"></span> Menu
			</button>

			<div class="collapse navbar-collapse" id="ftco-nav">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item active"><a href="index.html" class="nav-link">Home</a></li>
					<!-- <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
					<li class="nav-item"><a href="work.html" class="nav-link">Work</a></li>
					<li class="nav-item"><a href="blog.html" class="nav-link">Blog</a></li> -->
					<!-- <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li> -->
				</ul>
			</div>
		</div>
	</nav>
	<!-- END nav -->

	<section class="hero-wrap degree-right js-fullheight">
		<div class="home-slider js-fullheight owl-carousel">
			<div class="slider-item js-fullheight" style="background-image:url(images/bg_1.jpg);">
				<div class="overlay"></div>
				<div class="container">
					<div class="row no-gutters slider-text js-fullheight align-items-center">
						<div class="col-md-12 ftco-animate">
							<div class="text">
								<h1 class="mb-4">Lab 1a</h1>
								<p>The Artemis Board</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="ftco-section ftco-portfolio bg-light">
		<div class="row justify-content-center no-gutters">
			<div class="col-md-8 heading-section ftco-animate mb-5">
				<h2 class="mb-2 text-center">Objective</h2>
				<p>The overall purpose of the lab was to set up the Artemis Nano—the microcontroller our future work will rely on—and familiarize ourselves with the process of writing, understanding, and uploading code. Conveniently, the Nano is programmable via the Arduino IDE, so it was a simple matter of downloading the Sparkfun Apollo3 board support pack (version 1.1.2) with libraries and code snippets relevant to the Nano.</p>
				<h2 class="mb-2 text-center">A Rocky Start</h2>
				<p>Theoretically, this lab could be easily accomplished by plugging the board into your laptop’s USB port, selecting the correct serial port in the Arduino IDE for the code to be uploaded to, and uploading the various code examples, but that wasn’t my experience. My first Artemis Nano wasn’t allowing code to be uploaded to it.</p>
				<p>If I tried uploading through the wchusbserial port, I would get the error “Artemis SVL Bootloader Target failed to enter bootload mode. Verify the right COM port is selected and that your board has the SVL bootloader.” Trying the usbserial port didn’t result in a better outcome, and instead showed the error “Artemis SVL Bootloader /dev/cu.usbserial-1410 is currently open. Please close any other terminal programs that may be using /dev/cu.usbserial-1410 and try again.” even though running lsof | grep on both the cu and tty.usbmodem ports showed no other programs using it.</p>
				<p>After referencing <a href="https://community.platformio.org/t/mac-usb-port-detected-but-wont-upload/8756/5">this forum post</a> I uninstalled the WCH drivers and reinstalled the CH340 drivers, but it made no difference—the device was still being recognized but not accepting uploads. Other posts, such as <a href="https://forum.sparkfun.com/viewtopic.php?t=51972">this one</a>, recommended changing the baud rate to either 460800 or 115200 to make sure that the baud rate negotiation would ultimately be accepted by the board, but that also didn’t work. I ended up continually getting the error “Artemis SVL Bootloader Target failed to enter bootload mode. Verify the right COM port is selected and that your board has the SVL bootloader.” which led me to believe that the chosen SVL bootloader wasn’t on the board. Attempts to burn SVL onto the Nano using the default ASB bootloader were futile and using the ASB bootloader to program the board didn’t do much better. Ultimately, it was concluded that my board was faulty and I had to get a new one.</p>
				<h2 class="mb-2 text-center">Up and Running</h2>
				<p>Thankfully the new Artemis Nano I received was fully functional and I was able to easily upload the Blink, Serial, analogRead, and MicrophoneOutput programs to the board. All of these programs were written in the Arduino-style C .ino files, where a function called setup is run once as soon as the board is powered/reset and another function named loop runs over and over again forever.</p>
				<p>The Blink program accessed the onboard LED as an output and blinked it every other second. This can be seen in the video below:</p>
				<video controls="controls" src="videos/lab1/blink.MOV" style="width:500px;height:300px; display:block;margin: 0 auto;">
				    Your browser does not support the HTML5 Video element.
				</video>
				<p>Once the Blink program was confirmed to be functioning, the next step was to interact with the Serial port. Based on user input, various messages were printed to the Serial port, as seen in the following video:</p>
				<video controls="controls" src="videos/lab1/serial.MOV" style="width:500px;height:300px; display:block;margin: 0 auto;">
				    Your browser does not support the HTML5 Video element.
				</video>
				<p>Next up was to run analogRead, a program that sets one of the analog pins as an input and prints up its internal temperature. The base temperature of the board was around 32℃ and I was able to get it up to a little over 34℃.</p>
				<video controls="controls" src="videos/lab1/analogRead.MOV" style="width:500px;height:300px; display:block;margin: 0 auto;">
				    Your browser does not support the HTML5 Video element.
				</video>
				<p>The last example program to run was MicrophoneOutput. This accessed the pulse density microphone (PDM) on the board and analyzed frequency data using FFT to output the loudest frequency bin. I personally had a lot of fun testing this out.</p>
				<video controls="controls" src="videos/lab1/microphoneOutput.MOV" style="width:500px;height:300px; display:block;margin: 0 auto;">
				    Your browser does not support the HTML5 Video element.
				</video>
				<br>
				<h2 class="mb-2 text-center">Let There Be Light!</h2>
				<p>The final step of lab 1a was to write a program that would light up the onboard LED when you make a noise and turn it off otherwise. I relied heavily on the MicrophoneOutput example, with this particular code snippet being the main logic I implemented:</p>
				<code>
					Serial.printf("Loudest frequency: %d         \n", ui32LoudestFrequency);<br>
  					if (ui32LoudestFrequency > 0) {<br>
    					digitalWrite(LED_BUILTIN, HIGH); <br>
  					} else {<br>
    					digitalWrite(LED_BUILTIN, LOW); <br>
  					}
				</code>
				<p>To prove that this code could run when the Nano was plugged into both the computer and the external battery, I took these videos:</p>
				<video controls="controls" src="videos/lab1/controlledLED.MOV" style="width:500px;height:300px; display:block;margin: 0 auto;">
				    Your browser does not support the HTML5 Video element.
				</video>
				<video controls="controls" src="videos/lab1/controlledLEDBattery.MOV" style="width:500px;height:300px; display:block;margin: 0 auto;">
				    Your browser does not support the HTML5 Video element.
				</video>
				<br>
				<h2 class="mb-2 text-center">Conclusion</h2>
				<p>Overall, this lab was a simple way to interact with the Artemis Nano and Arduino IDE to get the ball rolling for the rest of the semester. Even though the path to the finish line was longer than expected, the software and hardware debugging I had to do taught me even more about the board, so I’m excited to put my knowledge to use.</p>
			</div>
		</div>
	</section>

	<!-- <section class="ftco-section bg-light">
		<div class="container">
			<div class="row justify-content-center mb-5">
				<div class="col-md-7 heading-section text-center ftco-animate">
					<h2>Recent Blog</h2>
				</div>
			</div>
			<div class="row d-flex">
				<div class="col-md-3 d-flex ftco-animate">
					<div class="blog-entry justify-content-end">
						<div class="text">
							<h3 class="heading mb-3"><a href="#">Amplify your blockchain team</a></h3>
							<a href="blog-single.html" class="block-20 img" style="background-image: url('images/image_1.jpg');">
							</a>
							<div class="meta mb-3">
								<div><a href="#">June 01, 2020</a></div>
								<div><a href="#">Admin</a></div>
								<div><a href="#" class="meta-chat"><span class="fa fa-comment"></span> 3</a></div>
							</div>
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
						</div>
					</div>
				</div>
				<div class="col-md-3 d-flex ftco-animate">
					<div class="blog-entry justify-content-end">
						<div class="text">
							<h3 class="heading mb-3"><a href="#">Amplify your blockchain team</a></h3>
							<a href="blog-single.html" class="block-20 img" style="background-image: url('images/image_2.jpg');">
							</a>
							<div class="meta mb-3">
								<div><a href="#">June 01, 2020</a></div>
								<div><a href="#">Admin</a></div>
								<div><a href="#" class="meta-chat"><span class="fa fa-comment"></span> 3</a></div>
							</div>
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
						</div>
					</div>
				</div>
				<div class="col-md-3 d-flex ftco-animate">
					<div class="blog-entry justify-content-end">
						<div class="text">
							<h3 class="heading mb-3"><a href="#">Amplify your blockchain team</a></h3>
							<a href="blog-single.html" class="block-20 img" style="background-image: url('images/image_3.jpg');">
							</a>
							<div class="meta mb-3">
								<div><a href="#">June 01, 2020</a></div>
								<div><a href="#">Admin</a></div>
								<div><a href="#" class="meta-chat"><span class="fa fa-comment"></span> 3</a></div>
							</div>
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
						</div>
					</div>
				</div>
				<div class="col-md-3 d-flex ftco-animate">
					<div class="blog-entry justify-content-end">
						<div class="text">
							<h3 class="heading mb-3"><a href="#">Amplify your blockchain team</a></h3>
							<a href="blog-single.html" class="block-20 img" style="background-image: url('images/image_4.jpg');">
							</a>
							<div class="meta mb-3">
								<div><a href="#">June 01, 2020</a></div>
								<div><a href="#">Admin</a></div>
								<div><a href="#" class="meta-chat"><span class="fa fa-comment"></span> 3</a></div>
							</div>
							<p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="degree-left-footer"></div>
	</section>		 -->

	<footer class="ftco-footer ftco-section">
		<div class="container">
			<div class="row">
				<div class="col-md-12 text-center">
					
					<p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
						Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
						<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
					</div>
				</div>
			</div>
		</footer>
		
		

		<!-- loader -->
		<div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


		<script src="js/jquery.min.js"></script>
		<script src="js/jquery-migrate-3.0.1.min.js"></script>
		<script src="js/popper.min.js"></script>
		<script src="js/bootstrap.min.js"></script>
		<script src="js/jquery.easing.1.3.js"></script>
		<script src="js/jquery.waypoints.min.js"></script>
		<script src="js/jquery.stellar.min.js"></script>
		<script src="js/owl.carousel.min.js"></script>
		<script src="js/jquery.magnific-popup.min.js"></script>
		<script src="js/jquery.animateNumber.min.js"></script>
		<script src="js/scrollax.min.js"></script>
		<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
		<script src="js/google-map.js"></script>
		<script src="js/main.js"></script>
		
	</body>
	</html>